{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nconst API_KEY = '47426000-935f334b470be797f22188feb';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function servicePhoto(value, page) {\n  const response = await axios(BASE_URL, {\n    params: {\n      key: API_KEY,\n      q: value,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      page,\n      per_page: 3,\n    },\n  });\n\n  console.log(response.data);\n  return response.data;\n}\n\nexport async function serviceNextPhoto(value, page) {\n  //   page += 1;\n  const nextPage = await servicePhoto(value, page);\n  console.log(nextPage);\n  return nextPage;\n}\n","export function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"photo-item\">\n        <a class=\"photo-link\" href=\"${largeImageURL}\" >\n        <img class=\"photo-img\" src=${webformatURL} alt=\"${tags}\"/>\n       </a> \n\n       <div class=\"photo-info-container\">\n          <div class=\"photo-info-item\">\n          <span class=\"photo-info-label\">Likes</span>\n          <span class=\"photo-info-value\">${likes}</span>\n          </div>\n          <div class=\"photo-info-item\">\n          <span class=\"photo-info-label\">Views</span>\n          <span class=\"photo-info-value\">${views}</span>\n          </div>\n          <div class=\"photo-info-item\">\n          <span class=\"photo-info-label\">Comments</span>\n          <span class=\"photo-info-value\">${comments}</span>\n          </div>\n          <div class=\"photo-info-item\">\n          <span class=\"photo-info-label\">Downloads</span>\n          <span class=\"photo-info-value\">${downloads}</span>\n          </div>\n       </div>\n       </li>`\n    )\n    .join();\n}\n","import { servicePhoto, serviceNextPhoto } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form-search');\nconst spinner = document.querySelector('.loader');\nconst gallery = document.querySelector('.image-gallery');\nconst loadMore = document.querySelector('.load-more-btn');\n\nlet page = 1;\nlet value;\n\nform.addEventListener('submit', handleSubmit);\nspinner.style.visibility = 'hidden';\n\nconst galleryBox = new SimpleLightbox('.image-gallery a', {\n  overlayOpacity: 0.8,\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n  captionType: 'attr',\n});\n\nasync function handleSubmit(event) {\n  event.preventDefault();\n  spinner.style.visibility = 'visible';\n\n  value = event.target.elements.imageQuery.value.trim();\n  if (!value) {\n    spinner.style.visibility = 'hidden';\n    return;\n  }\n  servicePhoto(value, page)\n    .then(photo => {\n      gallery.innerHTML = '';\n      if (!photo.total) {\n        iziToast.show({\n          backgroundColor: 'red',\n          position: 'topRight',\n          messageColor: 'white',\n          iconColor: 'white',\n          maxWidth: 432,\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n      console.log(photo);\n      gallery.innerHTML = createMarkup(photo.hits);\n      galleryBox.refresh();\n      form.reset();\n    })\n    .catch(error => {\n      iziToast.error({\n        backgroundColor: 'red',\n        position: 'topRight',\n        messageColor: 'white',\n        iconColor: 'white',\n        maxWidth: 432,\n        message: error.message,\n      });\n      console.log(error.message);\n    })\n    .finally(() => {\n      spinner.style.visibility = 'hidden';\n    });\n}\nloadMore.addEventListener('click', handleLoadMore);\n\nasync function handleLoadMore(event) {\n  event.preventDefault();\n  page += 1;\n  serviceNextPhoto(value, page)\n    .then(data => {\n      gallery.innerHTML = createMarkup(data.hits);\n    })\n    .catch(error => {\n      iziToast.error({\n        backgroundColor: 'red',\n        position: 'topRight',\n        messageColor: 'white',\n        iconColor: 'white',\n        maxWidth: 432,\n        message: error.message,\n      });\n      console.log(error.message);\n    });\n}\n"],"names":["API_KEY","BASE_URL","servicePhoto","value","page","response","axios","serviceNextPhoto","nextPage","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","spinner","gallery","loadMore","handleSubmit","galleryBox","SimpleLightbox","event","photo","iziToast","error","handleLoadMore","data"],"mappings":"owBACA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAaC,EAAOC,EAAM,CAC9C,MAAMC,EAAW,MAAMC,EAAML,EAAU,CACrC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAU,CACX,CACL,CAAG,EAED,eAAQ,IAAIC,EAAS,IAAI,EAClBA,EAAS,IAClB,CAEO,eAAeE,EAAiBJ,EAAOC,EAAM,CAElD,MAAMI,EAAW,MAAMN,EAAaC,EAAOC,CAAI,EAC/C,eAAQ,IAAII,CAAQ,EACbA,CACT,CC1BO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,sCAC8BL,CAAa;AAAA,qCACdD,CAAY,SAASE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAMnBC,CAAK;AAAA;AAAA;AAAA;AAAA,2CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,2CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2CAIRC,CAAS;AAAA;AAAA;AAAA,aAI/C,EACA,MACL,CC9BA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,SAAS,EAC1CC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAW,SAAS,cAAc,gBAAgB,EAExD,IAAIjB,EAAO,EACPD,EAEJe,EAAK,iBAAiB,SAAUI,CAAY,EAC5CH,EAAQ,MAAM,WAAa,SAE3B,MAAMI,EAAa,IAAIC,EAAe,mBAAoB,CACxD,eAAgB,GAChB,aAAc,MACd,aAAc,IACd,gBAAiB,SACjB,YAAa,MACf,CAAC,EAED,eAAeF,EAAaG,EAAO,CAKjC,GAJAA,EAAM,eAAc,EACpBN,EAAQ,MAAM,WAAa,UAE3BhB,EAAQsB,EAAM,OAAO,SAAS,WAAW,MAAM,OAC3C,CAACtB,EAAO,CACVgB,EAAQ,MAAM,WAAa,SAC3B,MACD,CACDjB,EAAaC,EAAOC,CAAI,EACrB,KAAKsB,GAAS,CAEb,GADAN,EAAQ,UAAY,GAChB,CAACM,EAAM,MAAO,CAChBC,EAAS,KAAK,CACZ,gBAAiB,MACjB,SAAU,WACV,aAAc,QACd,UAAW,QACX,SAAU,IACV,QACE,0EACZ,CAAS,EACD,MACD,CACD,QAAQ,IAAID,CAAK,EACjBN,EAAQ,UAAYX,EAAaiB,EAAM,IAAI,EAC3CH,EAAW,QAAO,EAClBL,EAAK,MAAK,CAChB,CAAK,EACA,MAAMU,GAAS,CACdD,EAAS,MAAM,CACb,gBAAiB,MACjB,SAAU,WACV,aAAc,QACd,UAAW,QACX,SAAU,IACV,QAASC,EAAM,OACvB,CAAO,EACD,QAAQ,IAAIA,EAAM,OAAO,CAC/B,CAAK,EACA,QAAQ,IAAM,CACbT,EAAQ,MAAM,WAAa,QACjC,CAAK,CACL,CACAE,EAAS,iBAAiB,QAASQ,CAAc,EAEjD,eAAeA,EAAeJ,EAAO,CACnCA,EAAM,eAAc,EACpBrB,GAAQ,EACRG,EAAiBJ,EAAOC,CAAI,EACzB,KAAK0B,GAAQ,CACZV,EAAQ,UAAYX,EAAaqB,EAAK,IAAI,CAChD,CAAK,EACA,MAAMF,GAAS,CACdD,EAAS,MAAM,CACb,gBAAiB,MACjB,SAAU,WACV,aAAc,QACd,UAAW,QACX,SAAU,IACV,QAASC,EAAM,OACvB,CAAO,EACD,QAAQ,IAAIA,EAAM,OAAO,CAC/B,CAAK,CACL"}