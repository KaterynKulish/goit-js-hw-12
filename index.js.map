{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nconst API_KEY = '47426000-935f334b470be797f22188feb';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function servicePhoto(value) {\n  const response = await axios(BASE_URL, {\n    key: API_KEY,\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  console.log(response.data);\n  return response.data;\n}\n","export function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        `\n<li class=\"photo-item\">\n        <a class=\"photo-link\" href=\"${largeImageURL}\" >\n        <img class=\"photo-img\" src=${webformatURL} alt=\"${tags}\"/>\n       </a> \n\n       <div class=\"photo-info-container\">\n          <div class=\"photo-info-item\">\n          <span class=\"photo-info-label\">Likes</span>\n          <span class=\"photo-info-value\">${likes}</span>\n          </div>\n          <div class=\"photo-info-item\">\n          <span class=\"photo-info-label\">Views</span>\n          <span class=\"photo-info-value\">${views}</span>\n          </div>\n          <div class=\"photo-info-item\">\n          <span class=\"photo-info-label\">Comments</span>\n          <span class=\"photo-info-value\">${comments}</span>\n          </div>\n          <div class=\"photo-info-item\">\n          <span class=\"photo-info-label\">Downloads</span>\n          <span class=\"photo-info-value\">${downloads}</span>\n          </div>\n       </div>\n       </li>        `;\n      }\n    )\n    .join();\n}\n","import { servicePhoto } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form-search');\nconst spinner = document.querySelector('.loader');\nconst gallery = document.querySelector('.image-gallery');\n\nform.addEventListener('submit', handleSubmit);\nspinner.style.visibility = 'hidden';\n\nconst galleryBox = new SimpleLightbox('.image-gallery a', {\n  overlayOpacity: 0.8,\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n  captionType: 'attr',\n});\n\nasync function handleSubmit(event) {\n  event.preventDefault();\n  spinner.style.visibility = 'visible';\n\n  const value = event.target.elements.imageQuery.value.trim();\n  if (!value) {\n    spinner.style.visibility = 'hidden';\n    return;\n  }\n  servicePhoto(value)\n    .then(photo => {\n      console.log(photo);\n      gallery.innerHTML = createMarkup(photo.hits);\n      galleryBox.refresh();\n      form.reset();\n    })\n    .catch(error => console.log(error.message))\n    .finally(() => {\n      spinner.style.visibility = 'hidden';\n    });\n}\n"],"names":["API_KEY","BASE_URL","servicePhoto","value","response","axios","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","spinner","gallery","handleSubmit","galleryBox","SimpleLightbox","event","photo","error"],"mappings":"6vBACA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAaC,EAAO,CACxC,MAAMC,EAAW,MAAMC,EAAMJ,EAAU,CACrC,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,eAAQ,IAAIC,EAAS,IAAI,EAClBA,EAAS,IAClB,CCfO,SAASE,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY,CA0BL,CACF,EACA,MACL,CClCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,SAAS,EAC1CC,EAAU,SAAS,cAAc,gBAAgB,EAEvDF,EAAK,iBAAiB,SAAUG,CAAY,EAC5CF,EAAQ,MAAM,WAAa,SAE3B,MAAMG,EAAa,IAAIC,EAAe,mBAAoB,CACxD,eAAgB,GAChB,aAAc,MACd,aAAc,IACd,gBAAiB,SACjB,YAAa,MACf,CAAC,EAED,eAAeF,EAAaG,EAAO,CACjCA,EAAM,eAAc,EACpBL,EAAQ,MAAM,WAAa,UAE3B,MAAMb,EAAQkB,EAAM,OAAO,SAAS,WAAW,MAAM,OACrD,GAAI,CAAClB,EAAO,CACVa,EAAQ,MAAM,WAAa,SAC3B,MACD,CACDd,EAAaC,CAAK,EACf,KAAKmB,GAAS,CACb,QAAQ,IAAIA,CAAK,EACjBL,EAAQ,UAAYX,EAAagB,EAAM,IAAI,EAC3CH,EAAW,QAAO,EAClBJ,EAAK,MAAK,CAChB,CAAK,EACA,MAAMQ,GAAS,QAAQ,IAAIA,EAAM,OAAO,CAAC,EACzC,QAAQ,IAAM,CACbP,EAAQ,MAAM,WAAa,QACjC,CAAK,CACL"}